<section class="page-title">
  <div class="container">
    <h1 class="title">{{ 'login.pageTitle' | translate | uppercase }}</h1>
  </div>
</section>

<section>
  <div class="container">

    <mat-stepper #stepper hide-header>

      <mat-step>
        <form class="form form-login" [formGroup]="loginForm" (ngSubmit)="onLoginFormSubmit()">
          <div class="form-group">
            <mat-form-field class="username w-100" appearance="outline">
              <mat-label>{{ 'login.loginForm.username.label' | translate | capitalize }}</mat-label>
              <input matInput placeholder="{{ 'login.loginForm.username.label' | translate | capitalize }}" formControlName="username">
              <mat-error *ngIf="formControlError(loginForm, 'username')">
                <span *ngIf="loginForm.controls.username.errors?.required">{{ 'common.formError.required' | translate }}</span>
              </mat-error>
            </mat-form-field>
          </div>
          <div class="form-group">
            <mat-form-field class="password w-100" appearance="outline">
              <mat-label>{{ 'login.loginForm.password.label' | translate | capitalize }}</mat-label>
              <input matInput [type]="hidePassword ? 'password' : 'text'" placeholder="{{ 'login.loginForm.password.label' | translate | capitalize }}" formControlName="password">
              <button mat-icon-button matSuffix (click)="hidePassword = !hidePassword" [attr.aria-label]="'Hide password'" [attr.aria-pressed]="hidePassword">
                <mat-icon>{{hidePassword ? 'visibility_off' : 'visibility'}}</mat-icon>
              </button>
              <mat-error *ngIf="formControlError(loginForm, 'password')">
                <span *ngIf="loginForm.controls.username.errors?.required">{{ 'common.formError.required' | translate }}</span>
              </mat-error>
            </mat-form-field>
          </div>
          <div class="form-actions">
            <button mat-raised-button color="primary" class="w-100" type="submit" [disabled]="!loginForm.valid">{{ 'login.loginForm.submitBtn' | translate | capitalize }}</button>
          </div>
        </form>
      </mat-step>

    </mat-stepper>

  </div>
</section>
